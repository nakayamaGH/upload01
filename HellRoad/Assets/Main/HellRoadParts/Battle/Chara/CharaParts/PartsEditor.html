<!DOCTYPE html>
<html>
<head>
<title>パーツエディタ</title>
</head>
<body>
 <table id="table" border="1">
    <tr>
      <th></th>
      <th>頭</th>
      <th>体</th>
      <th>腕</th>
      <th>足</th>
      <th>計</th>
    </tr>
    <tr>
      <td>
        体力
      </td>
      <td>
        <input type="text" id="1_h" name="name" required minlength="4" maxlength="8" size="3" value="0" >
      </td>
      <td>
        <input type="text" id="1_b" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="text" id="1_a" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="text" id="1_l" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <div id = "1_total">--</div>
      </td>
    </tr>
    <tr>
      <td>
        物攻
      </td>
      <td>
        <input type="text" id="2_h" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="text" id="2_b" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="text" id="2_a" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="text" id="2_l" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <div id = "2_total">--</div>
      </td>
    </tr>
    <tr>
      <td>
       物防
      </td>
      <td>
        <input type="tel" id="3_h" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="3_b" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="3_a" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="3_l" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <div id = "3_total">--</div>
      </td>
    </tr>
    <tr>
      <td>
        魔攻
      </td>
      <td>
        <input type="tel" id="4_h" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="4_b" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="4_a" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="4_l" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <div id = "4_total">--</div>
      </td>
    </tr>
    <tr>
      <td>
        魔防
      </td>
      <td>
        <input type="tel" id="5_h" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="5_b" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="5_a" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="5_l" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <div id = "5_total">--</div>
      </td>
    </tr>
    <tr>
      <td>
        速度
      </td>
      <td>
        <input type="tel" id="6_h" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="6_b" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="6_a" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <input type="tel" id="6_l" name="name" required minlength="4" maxlength="8" size="3"value="0">
      </td>
      <td>
        <div id = "6_total">--</div>
      </td>
    </tr>
  </table>
  <button type="button" id="button">クリック！</button>
  <script language="javascript" type="text/javascript">
    function getTableData(){
    // 抽出したデータを格納する配列
    let data = [];
    // idでhtmlからtableの要素を取得し、trタグのNodeListを取得
    let table = document.getElementById('table');
    let tbl_tr = table.querySelectorAll('tr');
    //テーブルの1行(trタグ)毎に処理
    tbl_tr.forEach(function(tr){
        //tdタグのNodeListを取得
        let cells = tr.querySelectorAll('td');
        //テーブルのヘッダー部分は飛ばす
        if (cells.length!=0){
            // テーブルの1行(trタグ)のデータを格納する配列
            let d =[];
            //セル(tdタグ)毎に処理
            cells.forEach(function(td){
                //セルがinputタグだった場合
                if(td.innerHTML.indexOf('input') != -1) {
                    d.push(td.firstElementChild.value);
                }
                //セルがtextだった場合
                else if(td.textContent!=""){
                    d.push(td.textContent);
                }
                //セルが空白だった場合
                else{
                    d.push("");
                }
            });
            data.push(d);
        }
    });
    return data
}
document.getElementById("button").onclick = function() {
let datas = getTableData();  
console.log(datas);
document.getElementById("1_total").innerText = Number(datas[0][1]) + Number(datas[0][2]) + Number(datas[0][3]) + Number(datas[0][4]);
document.getElementById("2_total").innerText = Number(datas[1][1]) + Number(datas[1][2]) + Number(datas[1][3]) + Number(datas[1][4]);
document.getElementById("3_total").innerText = Number(datas[2][1]) + Number(datas[2][2]) + Number(datas[2][3]) + Number(datas[2][4]);
document.getElementById("4_total").innerText = Number(datas[3][1]) + Number(datas[3][2]) + Number(datas[3][3]) + Number(datas[3][4]);
document.getElementById("5_total").innerText = Number(datas[4][1]) + Number(datas[4][2]) + Number(datas[4][3]) + Number(datas[4][4]);
document.getElementById("6_total").innerText = Number(datas[5][1]) + Number(datas[5][2]) + Number(datas[5][3]) + Number(datas[5][4]);
};

  </script>
</body>
</html>